<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>データのプロット</title>
<meta name="author" content="村田 昇"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/css/theme/oer-reveal.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/plugin/toc-progress/toc-progress.css"/>

<link rel="stylesheet" href="./reveal.js/css/theme/toc-style.css"/>

<link rel="stylesheet" href="./reveal.js/lib/font/source-sans-pro/source-sans-pro.css"/>

<link rel="stylesheet" href="./myconf.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-state="no-toc-progress">
<!-- This is an HTML template for the title slide. -->
<!-- Embed logos as necessary. -->
<!-- <a class="nooutlink" href="url"><img class="state-background your-logo-class" src="whatever.png" alt="Whatever" /></a> -->
<div class="talk-title">
    <h1 class="no-toc-progress">データのプロット</h1>
</div>
<div class="talk-subtitle">
    <p></p>
</div>
<div class="keyboard-usage">
    <p>(Press <code>?</code> for help, <code>n</code> and <code>p</code> for next and previous slide)</p>
</div>
<div class="talk-author">
  <p>村田 昇<br />
  2020.05.08</p>
</div>

</section>

<section>
<section id="slide-org6ab9b2f">
<h2 id="org6ab9b2f">データのプロット</h2>
<div class="outline-text-2" id="text-org6ab9b2f">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org5df5b4a">
<h3 id="org5df5b4a">可視化の重要性</h3>
<ul>
<li>データの特徴や傾向を把握するために効果的</li>
<li>Rはきわめて多彩な作図機能を持つ</li>
<li><b><code>package::graphics</code></b> に含まれる代表的な描画関数を取り上げて解説する
<ul>
<li>描画関連の関数は色，
線の種類や太さ，
あるいは図中の文字の大きさなどを指定することができる</li>
<li>用意されている多彩なオプションは説明しきれないため，
必要に応じて関数 <b><code>help()</code></b> (ヘルプ)と
と関数 <b><code>example()</code></b> (例題)
を参照のこと</li>

</ul></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgd41bbc3">
<h3 id="orgd41bbc3">図の保存</h3>
<ul>
<li>RStudioの機能を使う場合:
<ol>
<li>右下ペインの&ldquo;Plots&rdquo;タブの&ldquo;Export&rdquo;をクリック</li>
<li>形式やサイズを指定する <br />
<i>(クリップボードにコピーもできる)</i></li>

</ol></li>
<li><p>
コンソール/Rscriptで実行する場合:
</p>
<ul>
<li><code>help(pdf)</code> : PDFファイルに保存</li>
<li><code>help(png)</code> : PNGファイルに保存</li>
<li><code>help(dev.copy)</code> : &ldquo;graphic device&rdquo; 間でコピー</li>

</ul>
<p>
などを参照
</p></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orgb4eb287">
<h2 id="orgb4eb287">基本的な描画</h2>
<div class="outline-text-2" id="text-orgb4eb287">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org5e67f45">
<h3 id="org5e67f45">ベクトルの描画: 関数 <code>plot()</code></h3>
<p>
ベクトルデータの描画を行う
</p>
<ul>
<li><p>
基本書式 
</p>
<div class="org-src-container">

<pre  class="src src-R">plot(x, y=<span style="color: #bd93f9;">NULL</span>, type=<span style="color: #f1fa8c;">"p"</span>, xlim=<span style="color: #bd93f9;">NULL</span>, ylim=<span style="color: #bd93f9;">NULL</span>,
     main=<span style="color: #bd93f9;">NULL</span>, xlab=<span style="color: #bd93f9;">NULL</span>, ylab=<span style="color: #bd93f9;">NULL</span>, ...)
</pre>
</div></li>
<li>関数の引数
<ul>
<li><code>x</code>, <code>y</code> : ベクトル． <code>y</code> は省略可能．</li>
<li><code>type</code>: 描画タイプ．既定値は <code>p</code> (点)．
<code>l</code> (折れ線)など指定可</li>
<li><code>xlim</code>: \(x\) 軸の範囲．既定値は自動的に決定</li>
<li><code>ylim</code>: \(y\) 軸の範囲．既定値は自動的に決定</li>
<li><code>main</code>: 図のタイトル．既定値は空白</li>
<li><code>xlab</code>: \(x\) 軸のラベル名．既定値は <code>Index</code></li>
<li><code>ylab</code>: \(y\) 軸のラベル名．既定値は <code>x</code> のオブジェクト名</li>

</ul></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orga503659">
<h3 id="orga503659">関数 <code>plot()</code> のオプション</h3>
<ul>
<li>よく利用されるその他のオプション (<code>...</code> の部分)
<ul>
<li><code>col</code>: 色の指定．
<code>"red"</code> や <code>"blue"</code> など． <br />
<i>(指定可能な色は関数 <code>colors()</code> で照会できる)</i></li>
<li><code>pch</code>: 点の形．
詳細は <code>help(points)</code> を参照</li>
<li><code>lty</code>: 線のタイプ．
実線・破線など．タイプ名もしくは数字で指定．
詳細は <code>help(par)</code> を参照</li>
<li><code>lwd</code>: 線の太さ．数字で指定</li>
<li><code>cex</code>: 文字の大きさ．
既定値の何倍にするかを指定</li>

</ul></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgd68f3bf">
<h3 id="orgd68f3bf">関数 <code>plot()</code> の例 (1/3)</h3>
<div class="org-src-container">

<pre  class="src src-R"><span style="color: #6272a4;">## </span><span style="color: #6272a4;">x&#12398;&#12415;&#19982;&#12360;&#12383;&#22580;&#21512; plot(x)</span>
x <span style="color: #8be9fd;">&lt;-</span> pi/4*(0:8) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">45&#24230;(pi/4)&#12362;&#12365;&#12395;1&#21608;&#26399;&#20998; (0-2*pi)</span>
plot(sin(x)) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#27178;&#36600;&#12399;&#12505;&#12463;&#12488;&#12523;&#12398;&#35201;&#32032;&#30058;&#21495;&#65292;&#32294;&#36600;&#12399;sin(x)&#12398;&#20516;</span>
</pre>
</div>


<div id="org17843d3" class="figure">
<p><img src="figs/graph-plot1_1.png" alt="graph-plot1_1.png" height="100%" />
</p>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgc56c5f6">
<h3 id="orgc56c5f6">関数 <code>plot()</code> の例 (2/3)</h3>
<div class="org-src-container">

<pre  class="src src-R"><span style="color: #6272a4;">## </span><span style="color: #6272a4;">x&#12392;y&#12434;&#19982;&#12360;&#12383;&#22580;&#21512; plot(x,y)</span>
x <span style="color: #8be9fd;">&lt;-</span> pi/4*(0:8)
plot(x, sin(x)) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">x &#12398;&#20516;&#12395;&#23550;&#12377;&#12427; y=sin(x) &#12398;&#20516;&#12434;&#12503;&#12525;&#12483;&#12488;</span>
</pre>
</div>


<div id="org63ddc27" class="figure">
<p><img src="figs/graph-plot1_2.png" alt="graph-plot1_2.png" height="100%" />
</p>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgf9b4433">
<h3 id="orgf9b4433">関数 <code>plot()</code> の例 (3/3)</h3>
<div class="org-src-container">

<pre  class="src src-R"><span style="color: #6272a4;">## </span><span style="color: #6272a4;">&#12458;&#12503;&#12471;&#12519;&#12531;&#12434;&#36861;&#21152;</span>
x <span style="color: #8be9fd;">&lt;-</span> pi/4*(0:8)
plot(x,sin(x),type=<span style="color: #f1fa8c;">"l"</span>,lwd=3,col=<span style="color: #f1fa8c;">"blue"</span>,ylab=<span style="color: #f1fa8c;">"y=sin(x)"</span>) 
</pre>
</div>


<div id="org61c1412" class="figure">
<p><img src="figs/graph-plot1_3.png" alt="graph-plot1_3.png" height="100%" />
</p>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org11f52e6">
<h3 id="org11f52e6">関数の描画: 関数 <code>plot()</code></h3>
<p>
1変数関数の描画を行う
</p>
<ul>
<li><p>
基本書式
</p>
<div class="org-src-container">

<pre  class="src src-R">plot(x, y=0, to=1, ...)
</pre>
</div></li>
<li>関数の引数
<ul>
<li><code>x</code>: 1変数関数 (関数名)</li>
<li><code>y</code>: \(x\) 軸の左端 (<code>from</code> でも良い)</li>
<li><code>to</code>: \(x\) 軸の右端</li>

</ul></li>

</ul>

<ul>
<li><p>
別の関数 <code>f</code> やベクトルを重ね書きする場合
</p>
<div class="org-src-container">

<pre  class="src src-R">curve(f, add=<span style="color: #bd93f9;">TRUE</span>, ...)
points(x, y, ...)
</pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org43b4198">
<h3 id="org43b4198">例: <code>graph-plot.r</code></h3>
<div class="org-src-container">

<pre  class="src src-R"><span style="color: #6272a4;">### </span><span style="color: #6272a4;">&#38306;&#25968;&#12398;&#25551;&#30011;</span>
plot(sin, 0, 4*pi, 
     col=<span style="color: #f1fa8c;">"blue"</span>, <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#12464;&#12521;&#12501;&#12398;&#32218;&#12398;&#33394;</span>
     lwd=2, <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#12464;&#12521;&#12501;&#12398;&#32218;&#12398;&#22826;&#12373;</span>
     ylab=<span style="color: #f1fa8c;">"sin/cos"</span> <span style="color: #6272a4;"># </span><span style="color: #6272a4;">y&#36600;&#12398;&#12521;&#12505;&#12523;</span>
)
curve(cos, 
      add=<span style="color: #bd93f9;">TRUE</span>, <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#12464;&#12521;&#12501;&#12434;&#19978;&#26360;&#12365;</span>
      col=<span style="color: #f1fa8c;">"red"</span>, lwd=2)
x <span style="color: #8be9fd;">&lt;-</span> seq(0, 4*pi, by=0.1)
y <span style="color: #8be9fd;">&lt;-</span> sin(x) + rep_len(c(-0.2, 0.1), length(x))
points(x, y, col=<span style="color: #f1fa8c;">"green"</span>, pch=<span style="color: #f1fa8c;">"*"</span>) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#28857;&#12434;&#36861;&#21152;. pch&#12399;&#28857;&#12398;&#24418;&#12434;&#25351;&#23450;</span>
</pre>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org8650fdb">
<h3 id="org8650fdb"></h3>

<div id="orgc857341" class="figure">
<p><img src="figs/graph-plot2.png" alt="graph-plot2.png" width="50%" height="50%" /> 
</p>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgb800b9e">
<h3 id="orgb800b9e">例: <code>graph-plot.r</code></h3>
<div class="org-src-container">

<pre  class="src src-R"><span style="color: #6272a4;">### </span><span style="color: #6272a4;">&#12487;&#12540;&#12479;&#28857;&#12398;&#25551;&#30011;</span>
plot(x, y, type=<span style="color: #f1fa8c;">"p"</span>, pch=<span style="color: #f1fa8c;">"x"</span>, ylim=c(-2,2)) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">ylim&#12391;&#20516;&#22495;&#12434;&#25351;&#23450;</span>
curve(sin, add=<span style="color: #bd93f9;">TRUE</span>, col=<span style="color: #f1fa8c;">"orange"</span>, lwd=2)
lines(x, y, col=<span style="color: #f1fa8c;">"blue"</span>) <span style="color: #6272a4;"># </span><span style="color: #6272a4;">&#25240;&#12428;&#32218;&#12434;&#36861;&#21152;</span>
</pre>
</div>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org21554d2">
<h3 id="org21554d2"></h3>

<div id="org536127b" class="figure">
<p><img src="figs/graph-plot3.png" alt="graph-plot3.png" width="50%" height="50%" />
</p>
</div>
<div class="slide-footer"><br></div>
</section>
</section>
</div>
</div>
<script src="./reveal.js/lib/js/head.min.js"></script>
<script src="./reveal.js/js/reveal.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: true,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: false,

overview: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'fade', // see README of reveal.js for options
transitionSpeed: 'default',

// Optional libraries used to extend reveal.js
dependencies: [
 { src: './reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }]

});
</script>
</body>
</html>
